<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Our Valentine's Week</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&family=Poppins:wght@400;600&display=swap" rel="stylesheet">
</head>
<body>
    <div class="container timeline-container">
        <div class="heart-bg"></div>
        
        <!-- Countdown Section -->
        <div id="countdown-section" class="countdown-container">
            <h1 class="title">Valentine's Week Begins In...</h1>
            <div class="timer">
                <div class="time-box">
                    <span id="days">00</span>
                    <span class="label">Days</span>
                </div>
                <div class="time-box">
                    <span id="hours">00</span>
                    <span class="label">Hours</span>
                </div>
                <div class="time-box">
                    <span id="minutes">00</span>
                    <span class="label">Mins</span>
                </div>
                <div class="time-box">
                    <span id="seconds">00</span>
                    <span class="label">Secs</span>
                </div>
            </div>
            <p class="subtitle">Get ready for a week full of love! ❤️</p>
        </div>

        <!-- Timeline Section (Initially Hidden) -->
        <div id="timeline-section" class="hidden">
            <h1 class="title">Valentine's Week</h1>
            <div class="timeline">
                <!-- Cards will be generated by JS -->
            </div>
        </div>
    </div>
    <script src="days-data.js"></script>
    <script>
        // Countdown Logic
        const countdownSection = document.getElementById('countdown-section');
        const timelineSection = document.getElementById('timeline-section');
        
        // Target Date: Feb 7th of current year
        const currentYear = new Date().getFullYear();
        const targetDate = new Date(`February 7, ${currentYear} 00:00:00`).getTime();

        function updateCountdown() {
            const now = new Date().getTime();
            const distance = targetDate - now;

            if (distance < 0) {
                // Countdown finished
                countdownSection.classList.add('hidden');
                timelineSection.classList.remove('hidden');
                clearInterval(interval);
                return;
            }

            // Calculations
            const days = Math.floor(distance / (1000 * 60 * 60 * 24));
            const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
            const seconds = Math.floor((distance % (1000 * 60)) / 1000);

            // Update DOM
            document.getElementById('days').innerText = String(days).padStart(2, '0');
            document.getElementById('hours').innerText = String(hours).padStart(2, '0');
            document.getElementById('minutes').innerText = String(minutes).padStart(2, '0');
            document.getElementById('seconds').innerText = String(seconds).padStart(2, '0');
        }

        const interval = setInterval(updateCountdown, 1000);
        updateCountdown(); // Run immediately

        // Timeline Generation Logic
        const timeline = document.querySelector('.timeline');
        
        daysData.forEach((day, index) => {
            const card = document.createElement('div');
            card.classList.add('day-card');
            // Stagger animation
            card.style.animationDelay = `${index * 0.1}s`;
            
            card.innerHTML = `
                <div class="date">${day.date}</div>
                <div class="day-name">${day.name}</div>
                <div class="icon">${day.icon}</div>
            `;
            
            card.addEventListener('click', () => {
                window.location.href = `day.html?id=${day.id}`;
            });
            
            timeline.appendChild(card);
        });

        // Add floating hearts background (reused from main script logic)
        function createHearts() {
            const heartBg = document.querySelector('.heart-bg');
            const heart = document.createElement('div');
            heart.classList.add('heart');
            heart.style.left = Math.random() * 100 + 'vw';
            heart.style.animationDuration = Math.random() * 3 + 3 + 's';
            heartBg.appendChild(heart);
            setTimeout(() => heart.remove(), 6000);
        }
        setInterval(createHearts, 300);
    </script>
</body>
</html>